(()=>{"use strict";var a=function(){};function n(n){var e=n.method,i=void 0===e?"GET":e,t=n.url,r=n.type,o=void 0===r?"json":r,s=n.onSuccess,u=void 0===s?a:s,l=n.onError,c=void 0===l?a:l,d=new XMLHttpRequest;d.open(i,t),d.responseType=o,d.send(),d.addEventListener("load",(function(){200===d.status?u(d.response):c(d.response||"Неизвестная ошибка")})),d.addEventListener("error",(function(){c("Сеть недоступна")}))}const e=JSON.parse('{"E":["Afghan","Albanian","Algerian","American","Andorran","Angolan","Antiguans","Argentinean","Armenian","Australian","Austrian","Azerbaijani","Bahamian","Bahraini","Bangladeshi","Barbadian","Barbudans","Batswana","Belarusian","Belgian","Belizean","Beninese","Bhutanese","Bolivian","Bosnian","Brazilian","British","Bruneian","Bulgarian","Burkinabe","Burmese","Burundian","Cambodian","Cameroonian","Canadian","Cape Verdean","Central African","Chadian","Chilean","Chinese","Colombian","Comoran","Congolese","Costa Rican","Croatian","Cuban","Cypriot","Czech","Danish","Djibouti","Dominican","Dutch","East Timorese","Ecuadorean","Egyptian","Emirian","Equatorial Guinean","Eritrean","Estonian","Ethiopian","Fijian","Filipino","Finnish","French","Gabonese","Gambian","Georgian","German","Ghanaian","Greek","Grenadian","Guatemalan","Guinea-Bissauan","Guinean","Guyanese","Haitian","Herzegovinian","Honduran","Hungarian","I-Kiribati","Icelander","Indian","Indonesian","Iranian","Iraqi","Irish","Israeli","Italian","Ivorian","Jamaican","Japanese","Jordanian","Kazakhstani","Kenyan","Kittian and Nevisian","Kuwaiti","Kyrgyz","Laotian","Latvian","Lebanese","Liberian","Libyan","Liechtensteiner","Lithuanian","Luxembourger","Macedonian","Malagasy","Malawian","Malaysian","Maldivian","Malian","Maltese","Marshallese","Mauritanian","Mauritian","Mexican","Micronesian","Moldovan","Monacan","Mongolian","Moroccan","Mosotho","Motswana","Mozambican","Namibian","Nauruan","Nepalese","New Zealander","Ni-Vanuatu","Nicaraguan","Nigerian","Nigerien","North Korean","Northern Irish","Norwegian","Omani","Pakistani","Palauan","Panamanian","Papua New Guinean","Paraguayan","Peruvian","Polish","Portuguese","Qatari","Romanian","Russian","Rwandan","Saint Lucian","Salvadoran","Samoan","San Marinese","Sao Tomean","Saudi","Scottish","Senegalese","Serbian","Seychellois","Sierra Leonean","Singaporean","Slovakian","Slovenian","Solomon Islander","Somali","South African","South Korean","Spanish","Sri Lankan","Sudanese","Surinamer","Swazi","Swedish","Swiss","Syrian","Taiwanese","Tajik","Tanzanian","Thai","Togolese","Tongan","Trinidadian or Tobagonian","Tunisian","Turkish","Tuvaluan","Ugandan","Ukrainian","Uruguayan","Uzbekistani","Venezuelan","Vietnamese","Welsh","Yemenite","Zambian","Zimbabwean"]}');var i={1:"January ",2:"February ",3:"March ",4:"April ",5:"May ",6:"June ",7:"July ",8:"August ",9:"September ",10:"October ",11:"November ",12:"December "};function t(a,n){var e=document.createElement("option");document.getElementById(a).appendChild(e).innerHTML=n}for(var r=1950;r<=2015;r++)t("year-birth",r);for(var o=1;o<=31;o++)t("day-birth",o);for(var s in i)t("month-birth",i[s]);e.E.forEach((function(a){t("nationality",a)}));var u={"first-name":{valueMissing:"Представьтесь, пожалуйста",patternMismatch:"Что-то не похоже на имя"},"last-name":{valueMissing:"Представьтесь, пожалуйста",patternMismatch:"Что-то не похоже на фамилию"},email:{valueMissing:"Предоставьте почту",typeMismatch:"Что-то не очень похоже на почту",patternMismatch:"Почта невалидна"},password:{valueMissing:"Введите пароль",patternMismatch:"Пароль пользователя должен содержать от 8 символов и как минимум 1 заглавную букву, 1 строчную и 1 цифру"}};function l(a){if(function(a){a.closest(".field").querySelector(".field__error").classList.add("field__error_hidden")}(a),!a.validity.valid){var n=Object.keys(ValidityState.prototype).find((function(n){return"valid"!==n&&a.validity[n]}));a.classList.add("invalid:border-[#FF2222]","invalid:text-[#FF2222]","invalid:border-b-2"),console.log(n),function(a,n){var e=a.closest(".field").querySelector(".field__error");e.textContent=n,e.classList.remove("field__error_hidden")}(a,u[a.name][n])}}var c=document.querySelector(".form");c.querySelectorAll(".field__input").forEach((function(a){a.addEventListener("change",(function(a){var n=a.target;n.dataset.dirty="true",l(n)})),a.addEventListener("input",(function(a){var n=a.target;n.dataset.dirty&&l(n)}))}));var d=c.querySelector(".form__password"),m=c.querySelector(".form__confirm-password"),v=c.querySelector(".error_pass"),h=c.querySelector(".submit-btn");function f(a){var e=a.status;if("ok"===e){c.reset();var i=document.getElementById("my-modal-6"),t=document.querySelector(".btn-close-modal");i.checked=!0,t.addEventListener("click",(function(){n({url:"./confirm.html",type:"text",onSuccess:function(a){document.body.innerHTML=a}})}))}else"error"===e?(alert("Ошибка авторизации"),y(".submit-btn","wobble")):(alert("Нет доступа"),y(".submit-btn","wobble"))}m.addEventListener("input",(function(){d.value!==m.value?(v.textContent="Пароли не совпадают",v.style.color="lightcoral"):(v.textContent="Пароли совпадают",v.style.color="green")})),d.addEventListener("input",(function(){this.value!==m.value?m.setCustomValidity("Пароли не совпадают"):m.setCustomValidity("")})),m.addEventListener("input",(function(){this.value!==d.value?this.setCustomValidity("Пароли не совпадают"):this.setCustomValidity(""),!m.checkValidity()&&h.click()})),h.addEventListener("click",(function(a){""===d.value&&a.preventDefault()})),c.addEventListener("submit",(function(a){a.preventDefault();var e=a.target,i=e.querySelectorAll(".field__input");e.checkValidity()&&(console.log("success!"),n({url:"../static/status-ok.json",onSuccess:function(a){f(a)},onError:function(a){f(a)}})),i.forEach(l)})),document.addEventListener("DOMContentLoaded",(function(){for(var a=c.querySelectorAll(".form__field"),n=0;n<a.length;n++)a[n].classList.add("animate__animated","animate__fadeInUp","animate__delay-".concat(n,"s"))}));var y=function(a,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"animate__";return new Promise((function(i,t){var r="".concat(e).concat(n),o=document.querySelector(a);o.classList.add("".concat(e,"animated"),r),o.addEventListener("animationend",(function(a){a.stopPropagation(),o.classList.remove("".concat(e,"animated"),r),i("Animation ended")}),{once:!0})}))}})();